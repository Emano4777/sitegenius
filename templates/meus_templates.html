<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meus Templates</title>
    <link rel="icon" href="https://res.cloudinary.com/dzpvczzab/image/upload/v1743096113/ChatGPT_Image_27_de_mar._de_2025_14_18_50_vh4wix.png" type="image/png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
       @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap');

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Poppins', sans-serif;
}

body {
    background-color: #f9f9f9;
    color: #333;
    text-align: center;
}

/* Ajuste no botão "Entrar" */
#login-option {
    color: #333 !important; /* Cor escura para melhor contraste */
    font-size: 16px;
    font-weight: bold; /* Deixa o texto mais visível */
    padding: 10px 15px;
    text-align: center;
    display: block;
}

#login-option:hover {
    background: #f0f0f0; /* Destaque ao passar o mouse */
    border-radius: 5px;
}

#login-text {
    margin-right: 8px;
}

/* Cabeçalho */
header {
    background: white;
    color: black;
    padding: 20px 0;
    position: fixed;
    width: 100%;
    top: 0;
    left: 0;
    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
}

header .container {
    max-width: 1200px;
    margin: auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 20px;
}

header h1 {
    font-size: 24px;
    font-weight: 600;
}

nav ul {
    list-style: none;
}

nav ul li {
    display: inline;
    margin: 0 15px;
}

nav ul li a {
    color: black;
    text-decoration: none;
    font-size: 18px;
    font-weight: 500;
    transition: 0.3s;
}

nav ul li a:hover {
    text-decoration: underline;
}

/* Hero Section */
.hero {
    margin-top: 100px;
    padding: 80px 20px;
    background: url('https://source.unsplash.com/1600x900/?technology,website') center/cover no-repeat;
    color: #1E2A38;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
}

.hero h2 {
    font-size: 36px;
    font-weight: 600;
}

.hero p {
    font-size: 20px;
    margin: 20px 0;
}

.btn {
    display: inline-block;
    padding: 6px 12px;
    background-color: white;
    color: black;
    text-decoration: none;
    border-radius: 4px;
    transition: background-color 0.3s;
}

.btn:hover {
    background-color: #afc1d4;
}
/* Features Section */
.features {
    padding: 60px 20px;
}

.features h2 {
    font-size: 30px;
    font-weight: 600;
    margin-bottom: 20px;
}

.feature-list {
    display: flex;
    justify-content: center;
    gap: 20px;
    flex-wrap: wrap;
}

.feature-item {
    background: white;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
    width: 300px;
    text-align: center;
}

.feature-item h3 {
    font-size: 22px;
    margin-bottom: 10px;
    color: black;
}

.feature-item p {
    font-size: 16px;
}

/* Rodapé */
footer {
    background: white;
    color: black;
    padding: 15px 0;
    margin-top: 40px;
}

footer .container {
    max-width: 1200px;
    margin: auto;
    text-align: center;
}
/* ✅ Ajuste no menu do usuário */
.user-menu {
    position: relative;
    display: flex;
    align-items: center;
    cursor: pointer;
}

/* ✅ Estilização do nome do usuário no dropdown */
#user-name {
    color: #333;
    font-size: 16px;
    text-align: center;
    padding: 10px;
    font-weight: bold;
    border-bottom: 1px solid #ddd;
    display: none; /* Inicialmente oculto */
}

.user-link {
    display: flex;
    align-items: center;
    text-decoration: none;
    color: white;
    font-size: 18px;
}


/* ✅ Garantindo que todos os itens do menu fiquem na mesma linha */
.desktop-nav ul {
    display: flex;
    align-items: center;
    list-style: none;
    padding: 0;
    color: black;
}

.desktop-nav ul li {
    margin: 0 15px;
}
.user-icon {
    font-size: 22px;
    color: black;
    margin-left: 15px;
}

.dropdown-menu {
    display: none;
    position: absolute;
    top: 50px;
    left: 50%;
    transform: translateX(-50%);
    background: white;
    list-style: none;
    padding: 10px 0;
    border-radius: 5px;
    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
    min-width: 180px;
    text-align: center;
    opacity: 0; /* garanta que começa invisível */
    transition: opacity 0.3s ease;
}

/* ✅ Melhor visibilidade do texto */
.dropdown-menu li {
    padding: 10px 15px;
    display: block;
    font-size: 16px;
    font-weight: bold; /* Torna a fonte mais visível */
    color: #333; /* Escurece o texto */
}

/* ✅ Ajuste no botão "Entrar" e "Sair" */
.dropdown-menu li a {
    color: #333 !important;
    text-decoration: none;
    display: block;
    padding: 8px 10px;
    border-radius: 5px;
    transition: 0.3s;
    font-weight: bold; /* Garante visibilidade */
}

.dropdown-menu li a:hover {
    background: #f0f0f0; /* Adiciona um fundo no hover */
}

/* ✅ Exibir menu ao abrir */
.user-menu.open .dropdown-menu {
    display: block;
    opacity: 1;
    transform: translateY(0);
}

/* ✅ Efeito de exibição do dropdown */
.user-menu:hover .dropdown-menu {
    display: block;
    opacity: 1;
    transform: translateY(0);
}

.dropdown-menu li:hover {
    background: #f0f0f0;
}
/* ✅ Menu Mobile */
.mobile-menu-btn {
    display: none;
    font-size: 24px;
    color: black;
    background: none;
    border: none;
    cursor: pointer;
}

.mobile-menu-modal {
    display: none;
    position: fixed;
    top: 0;
    right: 0;
    width: 250px;
    height: 100vh;
    background: #1E2A38;
    box-shadow: -3px 0px 10px rgba(0, 0, 0, 0.2);
    padding: 20px;
    z-index: 1000;
}

.mobile-menu-content {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
}

.mobile-menu-content a {
    color: white;
    font-size: 18px;
    text-decoration: none;
    padding: 12px 0;
}

#meus-templates-option, #mobile-meus-templates-option {
    color: black;
    font-weight: 500;
}

#meus-templates-option:hover, #mobile-meus-templates-option:hover {
    color: black;
}

.mobile-menu-content .close-btn {
    background: none;
    border: none;
    color: white;
    font-size: 24px;
    cursor: pointer;
    margin-top: 20px;
}

/* ✅ Ajuste no menu do usuário no mobile */
.mobile-user-menu {
    position: relative;
    width: 100%;
    text-align: left;
    padding: 10px 0;
}

.mobile-user-link {
    color: black;
    font-size: 18px;
    text-decoration: none;
    padding: 12px 0;
    display: flex;
    align-items: center;
    cursor: pointer;
}

.mobile-user-link i {
    margin-right: 8px;
}

.mobile-dropdown-menu {
    display: none;
    background: black;
    list-style: none;
    padding: 10px 0;
    border-radius: 5px;
    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
    min-width: 180px;
    text-align: center;
}

.mobile-dropdown-menu li {
    padding: 10px 15px;
}

.mobile-dropdown-menu li a {
    color: #333;
    text-decoration: none;
    font-size: 16px;
    display: block;
}

.mobile-dropdown-menu li:hover {
    background: #f0f0f0;
}

/* ✅ Exibir dropdown ao abrir */
.mobile-user-menu.open .mobile-dropdown-menu {
    display: block;
}

/* Tabela refinada */
table {
    margin-top: 120px;
    width: 100%;
    max-width: 1200px;
    margin-left: auto;
    margin-right: auto;
    border-collapse: separate;
    border-spacing: 0;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    background: white;
}

/* Cabeçalho da tabela */
thead tr {
    background-color: #1E2A38;
    color: white;
    text-transform: uppercase;
    font-size: 14px;
    letter-spacing: 0.5px;
}

/* Células */
th, td {
    padding: 15px 20px;
    text-align: center;
    border-bottom: 1px solid #f0f0f0;
}

td ul {
    margin-top: 8px;
}

td a {
    color: #1E2A38;
    text-decoration: underline;
    font-weight: 500;
}

tbody tr:hover {
    background-color: #f9f9f9;
}

main {
    margin-top: 120px; /* espaço igual ou maior que a altura do header */
}

/* Container de sites */
.site-list-container {
    margin-top: 60px;
    background: white;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
    text-align: center;
}

.site-list-container h2 {
    font-size: 24px;
    font-weight: 600;
    margin-bottom: 15px;
    color: #1E2A38;
}

.site-list-container p {
    font-size: 16px;
    color: #666;
    margin-bottom: 25px;
}


/* ✅ Estiliza os botões */
.site-list {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

/* Estilo para coluna de Subdomínios */
.subdomain-container {
    text-align: left;
    padding: 10px 0;
}

.subdomain-title {
    font-weight: 600;
    color: #1E2A38;
    font-size: 16px;
    margin-bottom: 6px;
}

/* Lista de páginas */
.subpages-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

/* Mensagem de dica acima das páginas */
.subpages-hint {
    font-size: 13px;
    color: #777;
    margin-bottom: 8px;
    display: flex;
    align-items: center;
    gap: 6px;
    font-style: italic;
}

.subpages-list li {
    margin-bottom: 5px;
}

.subpages-list a {
    text-decoration: none;
    color: #1E2A38;
    font-size: 14px;
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-weight: 500;
    transition: color 0.3s;
}

.subpages-list a:hover {
    color: #e68900;
    text-decoration: underline;
}

.subpages-list a i {
    color: #1E2A38;
    font-size: 14px;
}


.site-button {
    background: #1E2A38;
    color: white;
    padding: 12px 20px;
    border-radius: 6px;
    font-size: 16px;
    text-decoration: none;
    font-weight: 600;
    display: inline-block;
    transition: 0.3s;
    box-shadow: 0 4px 8px rgba(0,0,0,0.05);
}

.site-button:hover {
    background: #e68900;
    transform: translateY(-2px);
}

.site-button i {
    margin-right: 8px;
}


.copiar-btn {
    background-color: #1E2A38;
    color: white;
    font-weight: 500;
    padding: 8px 14px;
    font-size: 14px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: 0.3s;
    display: inline-flex;
    align-items: center;
    gap: 6px;
}

.copiar-btn:hover {
    background-color: #e68900;
    transform: scale(1.03);
}

.custom-toast {
  position: fixed;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%);
  background-color: #1E2A38;
  color: white;
  padding: 12px 20px;
  border-radius: 6px;
  font-size: 14px;
  opacity: 0;
  pointer-events: none;
  transition: all 0.4s ease;
  z-index: 9999;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}

.custom-toast.show {
  opacity: 1;
  bottom: 50px;
}

.acoes-template {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
}

.ultima-edicao {
  font-size: 12px;
  color: #888;
}

.url-dominio-hint {
  margin-top: 10px;
  font-size: 14px;
  color: #333;
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 8px;
}

.url-dominio-hint i {
  color: #1E2A38;
}

.dominio-btn {
  background-color: #1E2A38;
  color: white;
  padding: 6px 12px;
  border-radius: 5px;
  text-decoration: none;
  font-weight: 500;
  font-size: 13px;
  transition: background-color 0.3s;
}

.dominio-btn:hover {
  background-color: #e68900;
}

.status-site {
  font-size: 13px;
  font-weight: 500;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  margin-top: 6px;
}

.publicado {
  color: #27ae60;
}

.subdomain-container {
  text-align: left;
  padding: 10px 0;
  display: flex;
  flex-direction: column;
  gap: 14px;
}

.url-tools {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-top: 10px;
}

td:last-child {
  vertical-align: middle;
  text-align: center;
}
.construcao {
  color: #f39c12;
}
@media (max-width: 768px) {
  .custom-toast {
    width: 90%;
    font-size: 13px;
    padding: 10px 14px;
    bottom: 20px;
  }

  .url-dominio-hint {
    flex-direction: column;
    align-items: flex-start;
    gap: 4px;
  }

  .dominio-btn {
    width: 100%;
    text-align: center;
    font-size: 14px;
    padding: 10px;
  }
}

@media (max-width: 768px) {
  table, thead, tbody, th, td, tr {
    display: block;
  }

  thead {
    display: none;
  }

  tbody tr {
    margin-bottom: 30px;
    border: 1px solid #ddd;
    border-radius: 8px;
    padding: 15px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
  }

  td {
    text-align: left;
    padding: 8px 12px;
    border-bottom: none;
  }

  td::before {
    content: attr(data-label);
    font-weight: bold;
    display: block;
    margin-bottom: 4px;
    color: #1E2A38;
  }
}
/* Responsivo */
@media (max-width: 768px) {
    .copiar-btn {
        font-size: 13px;
        padding: 10px 12px;
        width: 100%;
        justify-content: center;
    }
}

/* Responsivo */
@media (max-width: 768px) {
    th, td {
        padding: 12px 10px;
        font-size: 14px;
    }

    .btn {
        font-size: 13px;
        padding: 8px 16px;
    }

    .site-button {
        font-size: 15px;
        padding: 10px 16px;
    }
}

/* ✅ Responsividade */
@media (max-width: 768px) {
    .desktop-nav {
        display: none;
    }

    .mobile-menu-btn {
        display: block;
    }
}

/* Responsividade */
@media (max-width: 768px) {
    header .container {
        flex-direction: column;
        text-align: center;
    }

    nav ul {
        margin-top: 10px;
    }

    nav ul li {
        display: block;
        margin: 5px 0;
    }

    .hero {
        padding: 60px 20px;
    }

    .hero h2 {
        font-size: 28px;
    }

    .hero p {
        font-size: 18px;
    }

    .feature-list {
        flex-direction: column;
        align-items: center;
    }

    .feature-item {
        width: 90%;
    }

   

}
        
    </style>
</head>
<body>

    <header>    
        <div class="container">
            <h1>
                <img src="https://res.cloudinary.com/dyyrgll7h/image/upload/v1743271953/3ca3896f-3d33-4dd5-86c0-814e030930a6_ap6g4e.png" alt="Logo" style="height: 35px; vertical-align: middle; margin-right: 10px;">
                Site Genius
              </h1>
    
            <!-- ✅ Navbar Desktop Corrigida -->
            <nav class="desktop-nav">
                <ul>
                    <li><a href="/"><i class="fas fa-home"></i> Início</a></li>
                    <li><a href="/templates"><i class="fas fa-th"></i> Templates</a></li>
                    <li><a href="/tutorial"><i class="fas fa-headset"></i> Central de Ajuda</a></li>
                    <li><a href="/novidades"><i class="fas fa-bolt"></i> Novidades</a></li>
                    <li><a href="/preco"><i class="fas fa-gem"></i> Seja Premium</a></li>
                    
    
                  
                </ul>
            </nav>
    
            <!-- ✅ Botão de menu mobile -->
            <button class="mobile-menu-btn" onclick="openMobileMenu()">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </div>
    <div class="mobile-menu-modal" id="mobileMenuModal">
        <div class="mobile-menu-content">
            <a href="/"><i class="fas fa-home"></i> Início</a>
            <a href="/templates"><i class="fas fa-th"></i> Templates</a>
            <a href="/tutorial"><i class="fas fa-headset"></i> Central de Ajuda</a>
            <a href="/novidades"><i class="fas fa-bolt"></i> Novidades</a>
            <a href="/preco"><i class="fas fa-gem"></i> Seja Premium</a>

    
      
                    <button class="close-btn" onclick="closeMobileMenu()">
                        <i class="fas fa-times-circle"></i>
                    </button>
                </div>
            </div>
    </header>
  

  <main>
    <table>
        <thead>
            <tr>
                <th>Seu modelo do site - Template</th>
                
                <th>Subdomínio</th>
                <th>Ações</th>
            </tr>
        </thead>
        <tbody>
            {% for subdomain, data in templates.items() %}
            
            <tr>
                <td>{{ data.template_name }}                              <span class="status-site publicado">
                    <i class="fas fa-circle-check"></i> Publicado
                  </span></td>
                
                <td>
                    <div class="subdomain-container">
                        <div class="subdomain-title">{{ data.subdomain }}</div>
                        <p class="subpages-hint">
                            <i class="fa-solid fa-eye"></i> Essas abaixo são as páginas do seu site. Clique para ver como estão ficando!
                        </p>
                        <ul class="subpages-list">
                            {% for page in data.pages %}
                            <li>
                                <a href="{{ url_for('site_usuario', subdomain=subdomain, page_name=page) }}"
                                   class="btn btn-secondary" target="_blank">
                                    <i class="fa-solid fa-file-lines"></i> {{ page | capitalize }} (Visualizar)
                                </a>
                            </li>
                            {% endfor %}
                        </ul>
                        <div class="url-compartilhar">
                            <p style="margin-top: 10px; font-weight: bold;">
                                Compartilhe seu site com essa URL principal:
                            </p>
                            <div class="url-tools">
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <input type="text" readonly value="{{ request.host_url }}{{ subdomain }}/index" style="flex: 1; padding: 6px; border-radius: 5px; border: 1px solid #ccc;" id="url-{{ loop.index }}">
                                    <button onclick="copiarURL('{{ loop.index }}')" class="btn copiar-btn">
                                      <i class="fas fa-copy"></i> Copiar
                                    </button>
                                    
                                </div>
                                <div class="url-dominio-hint">
                                  <i class="fa-solid fa-globe"></i> Quer um link mais profissional?
                                  <a href="/preco" class="dominio-btn">Conheça os planos →</a>
                                </div>
                              </div>
                              
                                  

                            </div>

                        </div>
                    </div>
                </td>
                <td class="acoes-template">
                    {% if data.pages|length > 0 %}
                      {% if data.template_name == 'template17' %}
                        <a class="btn" href="/admin/experiencias" style="margin-top: 8px; background: #1E2A38; color: white;">
                          <i class="fas fa-gears"></i> Acessar o Painel Administrativo
                        </a>
                      {% elif data.template_name == 'template18' %}
                        <a class="btn" href="/admin/eventos" style="margin-top: 8px; background: #1E2A38; color: white;">
                          <i class="fas fa-calendar-alt"></i> Painel de Eventos
                        </a>
                        <a class="btn" href="/admin/classificados" style="margin-top: 8px; background: #1E2A38; color: white;">
                          <i class="fas fa-bullhorn"></i> Painel de Classificados
                        </a>
                      {% else %}
                        <a class="btn" style="background-color: #1E2A38; color: white;" href="{{ url_for('editar_pagina', template_id=data.template_id, page_name=data.pages[0]) }}">
                          <i class="fas fa-pen-to-square"></i> Editar Site
                        </a>
                      {% endif %}
                  
                      <small class="ultima-edicao" style="margin-top: 6px; color: #555; font-size: 16px;">
                        <i class="fas fa-calendar-check" style="color: #999;"></i>
                        Última edição em {{ data.ultima_edicao.strftime('%d/%m/%Y %H:%M') if data.ultima_edicao else 'Nunca salvo' }}
                      </small>
                    {% else %}
                      <span class="btn disabled">Sem páginas</span>
                    {% endif %}
                  </td>
            </tr>
            {% else %}
            <tr>
                <td colspan="3">Nenhum template encontrado.</td>
            </tr>
            {% endfor %}
        </tbody>

    </table>
</main>

<script>

function copiarURL(id) {
  const input = document.getElementById('url-' + id);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  mostrarToast("Link copiado com sucesso!");
}

function mostrarToast(mensagem) {
  const toast = document.createElement("div");
  toast.className = "custom-toast";
  toast.textContent = mensagem;
  document.body.appendChild(toast);

  setTimeout(() => {
    toast.classList.add("show");
  }, 100);

  setTimeout(() => {
    toast.classList.remove("show");
    setTimeout(() => toast.remove(), 300);
  }, 3000);
}
    // Funções para abrir e fechar o menu mobile
    function openMobileMenu() {
        document.getElementById('mobileMenuModal').style.display = 'block';
    }

    function closeMobileMenu() {
        document.getElementById('mobileMenuModal').style.display = 'none';
    }
</script>
</body>
</html>
